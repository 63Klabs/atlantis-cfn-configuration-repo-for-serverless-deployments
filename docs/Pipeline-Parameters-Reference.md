# Pipeline Parameters

This table is regenerated by the scripts in /scripts-cli with Parameter data from the Pipeline CloudFormation template. It contains both Service Role and Pipeline stack parameters.

| Parameter | Required | Description | Requirement | Examples | 
| --------- | -------- | ----------- | ----------- | -------- |
| Prefix | True | Prefix pre-pended to all resources. This can be thought of as a Name Space used to identify ownership/access for teams, departments, etc. For example, resources named ws-* could belong to the web service team and could have IAM permissions to allow access to other ws-* resources. The Prefix must have a corresponding CloudFormation Service Role. Short, descriptive 2-6 character values work best. Due to resource naming length restrictions, length of Prefix + Project ID should not exceed 28 characters. Resources are named <Prefix>-<ProjectId>-<StageId>-<ResourceId> | 2 to 8 characters. Lower case alphanumeric and dashes. Must start with a letter and end with a letter or number. Length of Prefix + Project ID should not exceed 28 characters. | acme, finc, ws |
| Project Id | True | This is the Project or Application Identifier. If you receive 'S3 bucket name too long' errors during stack creation, then you must shorten the Project ID or use an S3 Org Prefix. Due to resource naming length restrictions, length of Prefix + Project ID should not exceed 28 characters. Resources are named <Prefix>-<ProjectId>-<StageId>-<ResourceId> | Minimum of 2 characters (suggested maximum of 20). Lower case alphanumeric and dashes. Must start with a letter and end with a letter or number. Length of Prefix + Project ID should not exceed 28 characters. | hello-world, finance-api, finance-audit, sales-api |
| Stage Id | True | This is an alias for the branch. It does not need to match CodeCommitBranch or DeployEnvironment. Due to resource naming restrictions you can use this to provide shorter names without special characters that are allowed in branch names. For example if you have a 'test/feature-98' branch, you could use 'tf98' as the StageId. Resources are named <Prefix>-<ProjectId>-<StageId>-<ResourceId> | 2 to 8 characters. Lower case alphanumeric and dashes. Must start with a letter and end with a letter or number. | test, stage, beta, t-joe, prod, t95 |
| S3 Bucket Name Org Prefix | False | By default, to enforce uniqueness, buckets include account and region in the bucket name. However, due to character limits, you can specify your own S3 prefix (like an org code). This will be used in addition to the Prefix entered above. Note that this length is shared with the recommended length of 20 characters for Resource Identifiers. So if you have a 10 character S3BucketNameOrgPrefix, you are limited to 10 characters for your bucket name identifier in your templates. Buckets are named <Prefix>-<Region>-<AccountId>-<ProjectId>-<StageId>-<ResourceId> or <S3OrgPrefix>-<Prefix>-<ProjectId>-<StageId>-<ResourceId> | May be empty or 2 to 20 characters (8 or less recommended). Lower case alphanumeric and dashes. Must start and end with a letter or number. | xyzcompany, acme, b2b-solutions-inc |
| Role Path | True | Path to use for IAM Roles and Policies. You may wish to separate out your applications from users, or create seperate paths per prefix or application. Specific paths may required by permission boundaries. Ex: /ws-hello-world-test/ or /app_role/ | May only contain alphanumeric characters, forward slashes, underscores, and dashes. Must begin and end with a slash. | /, /acme-admin/, /acme-admin/dev/, /service-roles/, /application_roles/dev-ops/ |
| Deploy Environment | True | What deploy/testing environment will this run under? An environment can contain multiple stages (for example 'test' and 't98' would be in 'TEST' environment, and 'beta' and 'prod' stages would deploy to 'PROD'). Utilize this environment variable to determine your tests, app logging levels, and conditionals in the template. For example, PROD will use gradual deployment while DEV and TEST is AllAtOnce. Other resources, such as dashboards and alarms  (which cost money) could be created in PROD and not DEV or TEST. Suggested use: DEV for local SAM deployment, TEST for test/QA deployments, PROD for stage, beta, and main/prod deployments. | Must specify DEV, TEST, or PROD. | DEV, TEST, PROD |
| Parameter Store Hierarchy | True | Parameters specific to the application may be organized within a hierarchy based on your organizational or operations structure. For example, /Finance/ops/ for this value would then generate /Finance/ops/<DeployEnvironment>/<Prefix>-<ProjectId>-<StageId>/<parameterName>. Must either be a single '/' or begin and end with a '/'. | Must only contain alpha-numeric, dashes, underscores, or slashes. Must be a single slash or begin and end with a slash. (/Finance/, /Finance/ops/, or /) | /, /Finance/, /Finance/ops/, /Finance/ops/dev/ |
| Alarm Notification Email | True | Email address to send notifications to when alarms are triggered. Be sure to check the inbox as you will need to confirm the subscription. | A valid email address | user@example.com, finance@example.com, xyzcompany@example.com |
| Permissions Boundary ARN | False | Permissions Boundary is a policy attached to a role to further restrict the permissions of the role. Your organization may or may not require boundaries. If left empty, no permissions boundary will be used. | Must be empty or a valid IAM Policy ARN in the format: arn:aws:iam::{account_id}:policy/{policy_name} | arn:aws:iam::123456789012:policy/xyz-org-boundary-policy |
| CodeCommit Repository | True | What repository will be used? | Must be a valid CodeCommit repository name. Must be at least 2 characters long. | acme-financial-application, acme-financial-api, acme |
| CodeCommit Branch | True | What branch of CodeCommit will be used? Typically this is the same name as the stage, but may be different if there are multiple deploys operating off the same branch. | Must be a valid CodeCommit branch name | main, dev, beta, feature/acme-ui |
| Application Name | True | A descriptive name to identify the main application irregardless of the stage or branch. This is only used in the Tag Name and not visible anywhere else. | 2 to 64 characters. Alphanumeric, dashes, underscores, and spaces. Must start and end with a letter or number. | Financial Transaction Processing, Financial Transaction Audit, acme-finance-app |
| Service Role ARN | True | The Service Role gives CloudFormation permission to create, delete, and manage stacks on your behalf. | Service Role ARN must be in the format: arn:aws:iam::{account_id}:role/{policy_name} | arn:aws:iam::123456789012:role/ACME-CloudFormation-Service-Role |
| S3 Bucket Name for Pipeline Template | True | Where is the pipeline template stored? | S3 bucket name must be lowercase, start with a letter, and contain only letters, numbers, and dashes | 63klabs, mybucket |
| S3 Bucket Key for Pipeline Template | True | Where is the pipeline template stored? | S3 bucket key must be lowercase, start and end with a slash and contain only letters, numbers, dashes and underscores | /atlantis/v2/, /atlantis/v3/ |
| Pipeline Template File Name | True | What is the pipeline template file name? | File name must be lowercase, start with a letter, and contain only letters, numbers, and dashes | template-pipeline.yml, template-pipeline.yaml |
| AWS Account ID | True | AWS Account ID is a 12 digit number that identifies the AWS account. | AWS Account ID must be 12 digits | 123456789012, 123456789013, 123456789014 |
| AWS Region | True | AWS Region is a string that identifies the AWS region. For example, the region 'us-east-1' is located in the United States. | AWS Region must be lowercase and in the format: us-east-1 | us-east-1, us-west-1, us-west-2, eu-west-1, ap-southeast-1 |
