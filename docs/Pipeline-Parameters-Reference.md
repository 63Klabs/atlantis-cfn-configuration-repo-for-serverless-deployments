# Pipeline Parameters

This table is regenerated by the scripts in /scripts-cli and contains both Service Role and Pipeline stack parameters. The Pipeline parameters are populated directly from the Pipeline CloudFormation template.

| Parameter | Required | Description | Requirement | Examples | 
| --------- | -------- | ----------- | ----------- | -------- |
| Prefix | True | Prefix to assign to resources. This can be thought of as a Name Space and will be pre-pended to all resources. Use it to identify ownership/access for teams, departments, etc. Must have a corresponding CloudFormation Service Role. Ex: 'ws-hello-world-test' the Prefix would be 'ws', ProjectId would be 'hello-world', and the StageId would be 'test'. | 2 to 8 characters. Alphanumeric (lower case) and dashes. Must start with a letter and end with a letter or number. | acme, finc, ws |
| Project Id | True | Do NOT include <Prefix> or <StageId>. This is the Project ID for the application. (Minimum 2 characters, suggested maximum of 20) Ex: 'ws-hello-world-test' the Prefix would be 'ws', ProjectId would be 'hello-world', and the StageId would be 'test'. If you get 'S3 bucket name too long' errors then you must shorten the Project ID or use an S3 Org Prefix. Long Project IDs may also be truncated when naming resources. | Minimum of 2 characters (suggested maximum of 20). Alphanumeric (lower case) and dashes. Must start with a letter and end with a letter or number. | hello-world, finance-api, finance-audit, sales-api |
| Stage Id | True | Do NOT include <Prefix> or <ProjectId>. <StageId> does not need to match <DeployEnvironment>. You can have multiple stages in the TEST environment (e.g. test, john-test), and multiple stages in PROD (e.g. stage, beta, prod). Ex: 'ws-hello-world-test' the Prefix would be 'ws', ProjectId would be 'hello-world', and the StageId would be 'test'. | 2 to 10 characters. Alphanumeric (lower case) and dashes. Must start with a letter and end with a letter or number. | test, stage, beta, t-joe, prod, t95 |
| S3 Bucket Name Org Prefix | False | By default, to enforce uniqueness, buckets created for deploy and infrastructure include account and region in the bucket name. However, due to S3 bucket name character limits, you can turn this off by specifying your own S3 prefix (like an org code). This will be used in addition to the Prefix entered above. | May be empty or at least 2 characters long. Must start with a alphanumeric character, may contain lowercase letters, numbers, and hyphens. | xyzcompany, acme, b2b-solutions-inc |
| Role Path | True | Path to use for IAM Roles and Policies. If you are deploying multiple applications, you may want to create a separate path for each application. Paths may also be used by permission boundaries. Ex: /ws-hello-world-test/ | May only contain alphanumeric characters, forward slashes, underscores, and dashes. Must begin and end with a slash. | /, /acme-admin/, /acme-admin/dev/, /service-roles/, /application_roles/dev-ops/ |
| Deploy Environment | True | What deploy/testing environment will this run under? An environment can contain multiple stages and in coordination with run different tests. Utilize this environment variable to determine your tests and app logging levels during deploy. This can be used for conditionals in the template. For example, PROD will use gradual deployment while DEV and TEST is AllAtOnce. Other resources, such as dashboards are created in PROD and not DEV or TEST. Suggested use: DEV for local SAM deployment, TEST for cloud deployment, PROD for stage, beta, and main/prod deployment. | Must specify DEV, TEST, or PROD. | DEV, TEST, PROD |
| Parameter Store Hierarchy | True | Parameters may be organized within a hierarchy based on your organizational or operations structure. The application will create its parameters within this hierarchy. For example, /Finance/ops/ for this value would then generate /Finance/ops/<env>/<prefix>-<project_id>-<stage>/<parameterName>. Must either be a single '/' or begin and end with a '/'. | Must only contain alpha-numeric, dashes, underscores, or slashes. Must be a single slash or begin and end with a slash. (/Finance/, /Finance/ops/, or /) | /, /Finance/, /Finance/ops/, /Finance/ops/dev/ |
| Alarm Notification Email | True | Email address to send notifications to when alarms are triggered. Be sure to check the inbox as you will need to confirm the subscription. | A valid email address | user@example.com, finance@example.com, xyzcompany@example.com |
| Permissions Boundary ARN | False | Permissions Boundary is a policy attached to a role to further restrict the permissions of the role. Your organization may or may not require boundaries. If left empty, no permissions boundary will be used. | Must be empty or a valid IAM Policy ARN in the format: arn:aws:iam::{account_id}:policy/{policy_name} | arn:aws:iam::123456789012:policy/xyz-org-boundary-policy |
| CodeCommit Repository | True | What repository will be used? | Must be a valid CodeCommit repository name. Must be at least 2 characters long. | acme-financial-application, acme-financial-api, acme |
| CodeCommit Branch | True | What branch of CodeCommit will be used? Typically this is the same name as the stage, but may be different if there are multiple deploys operating off the same branch. | Must be a valid CodeCommit branch name | main, dev, beta, feature/acme-ui |
| Application Name | True | A descriptive name to identify the main application irregardless of the stage or branch. This is only used in the Tag Name and not visible anywhere else. | 2 to 64 characters. Alphanumeric, dashes, underscores, and spaces. Must start and end with a letter or number. | Financial Transaction Processing, Financial Transaction Audit, acme-finance-app |
| Service Role ARN | True | The Service Role gives CloudFormation permission to create, delete, and manage stacks on your behalf. | Service Role ARN must be in the format: arn:aws:iam::{account_id}:role/{policy_name} | arn:aws:iam::123456789012:role/ACME-CloudFormation-Service-Role |
| S3 Bucket Name for Pipeline Template | True | Where is the pipeline template stored? | S3 bucket name must be lowercase, start with a letter, and contain only letters, numbers, and dashes | 63klabs, mybucket |
| S3 Bucket Key for Pipeline Template | True | Where is the pipeline template stored? | S3 bucket key must be lowercase, start and end with a slash and contain only letters, numbers, dashes and underscores | /atlantis/v2/, /atlantis/v3/ |
| Pipeline Template File Name | True | What is the pipeline template file name? | File name must be lowercase, start with a letter, and contain only letters, numbers, and dashes | template-pipeline.yml, template-pipeline.yaml |
| AWS Account ID | True | AWS Account ID is a 12 digit number that identifies the AWS account. | AWS Account ID must be 12 digits | 123456789012, 123456789013, 123456789014 |
| AWS Region | True | AWS Region is a string that identifies the AWS region. For example, the region 'us-east-1' is located in the United States. | AWS Region must be lowercase and in the format: us-east-1 | us-east-1, us-west-1, us-west-2, eu-west-1, ap-southeast-1 |
